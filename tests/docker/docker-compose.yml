version: '2'
services:
    wait:
        image: debian:wheezy
        entrypoint: /wait-for-it.sh
        volumes:
            - ./wait-for-it.sh:/wait-for-it.sh

    vsftpd:
        image: fauria/vsftpd
        ports: 
            - "221:21"
        volumes:
            - ./../resources:/home/vsftpd/ftpuser
        environment:
            - FTP_USER=ftpuser
            - FTP_PASS=password


    pure-ftpd:
        build: ./pure-ftpd
        ports: 
            - "222:21"
        volumes:
            - ./../resources:/home/ftpuser/ftpuser
        environment:
            - FTP_USER=ftpuser
            - FTP_PASS=password
            - FTP_PATH=/home/ftpuser/ftpuser
            - FTP_PUBLICHOST=pure-ftpd
